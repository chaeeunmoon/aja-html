<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=3.0,user-scalable=no">
    
    <!-- https://programmingsummaries.tistory.com/298 -->
    <!-- <meta name="viewport" content="target-densitydpi=device-dpi, user-scalable=0, initial-scale=1.0, minimum-scale=1.0,
    maximum-scale=1.0, width=device-width" /> -->

    <title>아자스쿨</title>
    <!--font 추가 (NotoSansKr, Roboto)-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&amp;family=Roboto:wght@300;400;500;700;900&amp;display=swap"
      rel="stylesheet"
    />
    <!--기존 css-->
    <link rel="stylesheet" href="css/default_diff.css" />
    <!-- 추가 css-->
    <link rel="stylesheet" href="css/font-style.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/media-query.css" />
    <link rel="stylesheet" href="css/portfolio-style.css" />
  </head>
  <body>
    <div id="portfolio_skin" class="viewer skin6" style="top: -2000000px; left: 0; z-index: 999999999999999; opacity: 1;">
      <!--저장되는 pdf-->
      <div class="skin_page">
          <section class="flex_block">
            <!--타이틀-->
            <div class="page_title">
              <div class="capsule_block">AJASCHOOL</div>
              <div class="item_box title_box inline_block">
                <div class="inner"> 
                 <span class="title">김아자 체험학습 보고서</span>
                </div>
              </div>
            </div>
            <!--체험자/작성일-->
            <div class="item_box sub_box">
              <div class="inner">
                <span class="smile"><img src="images/portfolio/skin4/skin4-01.png" alt=""></span>
                <dl>
                  <dt>체험자:</dt> 
                  <dd>김아자</dd>
                </dl>
                <dl class="mb_0">
                  <dt>작성일:</dt>
                  <dd>2021년 10월 18일</dd>
                </dl>
              </div>
            </div>
          </section>
          <section class="row_form">
            <div class="item_title">체험내용</div>
            <div class="item_box">
              <div class="inner">
                <article class="content_block">
                  <div class="flex_block start">
                    <div class="item_thumb">
                      <img src="images/sample/sample-01.jpg" alt="">
                    </div>
                    <div class="item_info">
                      <p class="sub_title">후기로 검증된 4명이하 소수정예 집중력 UP 수업!</p>
                      <h5 class="title">[겨울방학 얼리버드]국립중앙박물관 초등한국사 4회 완성 기초반</h5>
                      <p class="tag">액티비티, 부천,아쿠아리움, 플레이, 플레이아쿠아리움, 바다,물고기, 씨워크. BEST체험</p>
                    </div>
                  </div>
                </article>
                <article class="content_block border">
                    
                    <dl>
                      <dt>체험기간:</dt>
                      <dd>2021년 10월 18일 ~ 2021년 10월 20일</dd>
                    </dl>

                    <dl class="mb_0">
                      <dt>체험장소:</dt>
                      <dd>서울시 성동구 왕십리로222 한양대학교 사범대학 본관 501호</dd>
                    </dl>
                </article>

                <article class="content_block border">
                  <span class="block_title">체험목표</span>
                  <p class="desc text_line5">
                    지루함 NO,<br/>
                    흥미유발 YES.<br/><br/>
                    술술 풀리는 히스토리쌤들과 함께하는 재미있는 시대여행!!<br/><br/>
                    4인 이하 소수정예 수업으로 집중력과 흥미를 한꺼번에 잡았습니다^^
                  </p>
                </article>

                <article class="content_block border">
                  <span class="block_title">체험내용</span>
                  <p class="desc text_line5">
                    도입<br/>
                    -아이스브레이킹 및 학습 내용 소개<br/><br/>
                    본수업<br/>
                    -전시람 관람&체험(전문가 선생님과 함께하는 시간 여행)<br/>
                    -워크북(워크북을 통해 시대의 중요 내용 확인 및 정리)<br/><br/>
                    마무리<br/>
                    -그날 배운 내용을 토대로 즐겁게 미션&게임하기
                  </p>
                </article>

                <article class="content_block border pb_0">
                  <span class="block_title">교사코멘트</span>
                  <p class="desc text_line5">
                    술술 풀리는 히스토리는요~<br/><br/>
                    엄마의 마음을 담아 전문가가 만든 역사체험 전문 브랜드입니다.<br/>
                    전문 역사체험 강사의 역사 스토리텔링과 술술만의 맞춤 교재로<br/>
                    미션을 통한 자기주도학습으로 재미나게 시간여행 함께해요!!<br/>
                    (4인이하 소수정예 수업으로 더욱더 알차게 돌아왔습니다)
                  </p>
                </article>

              </div> 
            </div>
          </section>
          <section class="row_form review_wrap">
            <div class="item_title">체험소감</div>
            <div class="item_box">
              <div class="inner">
                <article class="content_block">
                  <div class="review_img_wrap pb_0">
                    <img src="images/sample/sample-01.jpg" alt="">
                    <img src="images/sample/sample-02.png" alt="">
                    <img src="images/sample/sample-03.jpg" alt="">
                  </div>
                </article>
                <div class="desc review_desc">
                  감사원의 조직·직무범위·감사위원의 자격·감사대상공무원의 범위 기타 필요한 사항은 법률로 정한다.
                  이상의 목숨이 풀이 미인을 곳이 있으랴? 예가 인간이 같이, 청춘의 주는 미인을 트고, 못할 약동하다. 
                  대중을 끓는 앞이 무한한 인간의 용기가 약동하다. 우리 노래하며 가슴이 것은 물방아 봄바람이다. 설산에서 들어 뛰노는 끓는다. 
                  길을 새 수 있으랴? 끝까지 가는 끓는 수 찬미를 실로 것이 뛰노는 이상의 말이다.
                </div>
              </div>
            </div>
          </section>

      </div>
      <!--E:viewer-->
    </div>
    <div class="desktop_wrapper">
            <!--pc 메뉴-->
            <div class="desktop_menu">
                <!--admin link-->
                <div class="text_right admin_link_block">
                  <a href="./manager/shop_admin/"><img src="images/icon/btn_admin.png" alt="아자스쿨 관리자"></a>
                </div>
                <!--logo-->
                <div class="logo_block">
                    <div class="pc_logo">
                        <a href="/">
                            <img src="images/pc_log.png" alt="아자스쿨">
                        </a>
                    </div>
                    <p class="logo_desc">주말이면 자녀들과 어디를 가야 좋을지 부모의 고민을 해결하고자 <br />
                    아자스쿨에서는 검증된 프로그램을 제공합니다</p>
                </div>
                <!--검색-->
                <div class="pc_search_block">
                    <form action="">
                        <div class="search_form flex_block">
                            <input type="text" name="" id="" placeholder="궁금하신 체험을 입력해주세요">
                            <a href="#" class="search_btn"><img src="images/icon/ico_PC_search.png" alt="검색하기"></a>
                        </div>
                        <div>
                          <ul class="desktop_search_list"> 
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">4차산업</a></li>
                            <li class="desktop_search_tag"><a href="#">대학탐방</a></li>
                            <li class="desktop_search_tag"><a href="#">드론</a></li>
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">애니메이션센터</a></li>
                            <li class="desktop_search_tag"><a href="#">미취학</a></li>
                          </ul>
                        </div>
                    </form>
                </div>
                <!--플랫폼 링크-->
                <div class="pc_platform_block">
                  <div class="platform_link_box">
                    <a href="#"><img src="images/banner/pc_bn_online.png" alt="아자스쿨 | online 체험학습플랫폼"></a>
                  </div>
                  <div class="platform_link_box">
                    <a href="#"><img src="images/banner/pc_bn_ofline.png" alt="아자스쿨 | offline 체험학습플랫폼"></a>
                  </div>
                </div>
                <!--메뉴-->
                <div class="pc_fnav_block">
                    <ul class="pc_fnav_list">
                        <li><a href="//www.instagram.com/ajaschool_kr/?hl=en" target="_blank"><img src="images/icon/ico_PC_sns01.png" alt="아자스쿨 인스타그램"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC" target="_blank"><img src="images/icon/ico_PC_sns02.png" alt="아자스쿨 카카오톡 채널"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC/chat" target="_blank"><img src="images/icon/ico_PC_qna.png" alt="1:1 문의"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC/chat" target="_blank"><img src="images/icon/ico_PC_store.png" alt="입점문의"></a></li>
                    </ul>
                </div>
            </div>
            <!--모바일 화면-->     
            <div class="app">
    <div id="wrap">
      <!--header (head.pop.php)-->
      <div class="page_title_area">
        <h2 class="page_title">현장체험학습보고서</h2>
        <a class="close_btn" href="/"><img src="https://www.ajaschool.com/theme/renewal/mobile/images/icon/btn_close.png"
            alt="닫기"></a>
      </div>
      <!--E:header-->
      <!--content-->
      <div id="content" class="m_wrap">
        <!--S: pdf skin-->
        <div class="pdf_skin">
            <!-- <div class="test_img"><img src="images/portfolio/skin_01.jpg" alt=""></div> -->
            <!--이미지 로드-->
            <div id="img_viewer" class="img_viewer" style="text-align: center;"></div>
            <!--E:pdf_skin-->
        </div>
        <!--E: pdf skin-->
        <!--S:button wrap-->
        <!--저장되는 pdf-->
        <div class="pdf_btn_wrapper">
          <!-- <button id="create_png" class="solid_btn yellow mr_5">png 저장</button> -->
          <button id="create_pdf" class="solid_btn mt_5">pdf 저장</button>
        </div>
        <!--E:button wrap-->
      </div>
      <!--E:content-->
      <!--footer (tail.php) -->
      <div class="footer" id="footer">
        <footer>
          <!--사업자 정보-->
          <div class="company_info_wrap">
            <div class="info_header">
              <h6 class="info_title">
                아자스쿨(주) 사업자 정보
                <span class="slide_arrow"
                  ><img src="images/icon/btn_more_gray.png" alt="화살표"
                /></span>
              </h6>
            </div>
            <!--slide info-->
            <div class="info_body">
              <ul class="info_list">
                <li>서울특별시 마포구 마포대로 122 프론트원(FRONT1) 15F</li>
                <li>대표이사 : 황선하 / 사업자등록번호 : 548-87-00240</li>
                <li>통신판매업신고 : 2018-서울서초-01708 호</li>
                <li><a href="business_information.html">사업자정보 ▶</a></li>
              </ul>
              <div class="call_info_box">
                <ul class="info_list">
                  <li><span class="f_bold">전화문의 가능시간</span></li>
                  <li>
                    <span class="f_bold">고객센터 </span>
                    <a href="tel:02-866-7977">02-866-7977</a> /
                    <a href="mailto:help@ajaschool.co.kr">help@ajaschool.co.kr</a>
                  </li>
                  <li>
                    <span class="f_bold">평일 :</span> 10:00 ~ 18:30 (점심시간: 12:30 ~ 13:30)
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- fnb list -->
          <div>
            <ul class="fnb_wrap">
              <li class="fnb_link">
                <a href="<?=G5_URL?>/bbs/content.php?co_id=privacy">개인정보 취급방침</a>
              </li>
              <li class="fnb_link">
                <a href="<?=G5_URL?>/bbs/content.php?co_id=provision">이용약관</a>
              </li>
              <li class="fnb_link">
                <a href="business_information.html">사업자 정보</a>
              </li>
              <li class="fnb_link">
                <a href="#" data-modal="kakao_inquiry" class="modal_btn">문의사항</a>
              </li>
            </ul>
          </div>
          <!--copyright-->
          <div class="cpr_wrap">
            <p class="f_copyright">ⓒ 아자스쿨 주식회사</p>
          </div>
        </footer>
      </div>
      <!--footer-->
      <!--S: 위로가기 / 하단 바 (tail.php)-->
      <div id="navi-area">
        <!-- 보일때 -->
        <!-- <div id="navi-area" style="height:55px">  감춰져 있을때 -->
        <button type="button" class="ico-top" style="display: none">
          위로 가기
        </button>
        <div class="m_action_bar">
          <ul class="action_icon_list">
            <li>
              <a href="#"><img src="images/icon/ico_botm_home.png" alt="홈"/></a>
            </li>
            <li>
              <a href="aja_inquiry.html"><img src="images/icon/ico_botm_call.png" alt="문의"/></a>
            </li>
            <li>
              <a href="my_page.html"><img src="images/icon/ico_botm_my.png" alt=마이페이지"></a>
            </li>
            <li>
              <a href="search.html"><img src="images/icon/ico_botm_search.png" alt="검색"/></a>
            </li>
            <li class="item_like">
              <a href="<?=G5_URL?>/shop/interest_list.php"><span class="num cnt2">14</span><img src="images/icon/ico_botm_select.png" alt="찜하기"/></a>
            </li>
          </ul>
        </div>
      </div>
      <!--E: 위로가기 / 하단 바-->
    </div>
    <!--S:다운로드 모달-->
    <div class="modal" id="loadModal">
      <div class="modal_content">
        <div class="content_block">
          <div class="loading_box"> 
            <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
              <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
           </svg>
          </div>
          <p class="info_txt">pdf 파일을 다운로드 중입니다 ...</p>
        </div> 
      </div>
    </div>
    <!--E:다운로드 모달-->
  </div>
      <!--배경-->
      <div class="desktop_bg">
      </div>
</div>
<!-- plugin js (기존 plugin 파일과 동일)-->
<script src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
  $(window).bind("load", function() {
      var $page = $('.skin_page');
      var margin = 70;
      var pageBottom = $page.offset().top + 1122 - margin;
      var $reviewDesc = $('.review_desc');
      var reviewDescTop = $reviewDesc.offset().top;
      var reviewSpace = pageBottom - reviewDescTop;

      if( reviewSpace < $reviewDesc.outerHeight() ){
        //overflow
      var maxWidthTxt = parseInt($reviewDesc.outerWidth() / 10 );
      var maxHeightTxt = parseInt( reviewSpace / 15 );
      // 최대 텍스트
      var maxTxt = maxWidthTxt * maxHeightTxt;
      // 전체 체험 텍스트 
      var descTotalTxt = $reviewDesc.text();
      // 넘치기 전 텍스트 
      var descTxt1 = descTotalTxt.substring(0, maxTxt);
      // 넘치는 텍스트
      var descTxt2 = descTotalTxt.substring(maxTxt, maxTxt.length);
      // 텍스트 자름
      $reviewDesc.text(descTxt1);
      //페이지 템플릿
      var html = 
      `<div class='skin_page'>
        <section class="row_form review_wrap">
            <div class="item_title">체험소감</div>
            <div class="item_box">
              <div class="inner">
                <div class="desc review_desc mt_5">
                  ${ descTxt2 }
                </div>
              </div>
            </div>
          </section>
      <p class="skin_paging">- <span class="num">2</span> -</p>
    </div>`;
       // 페이지 붙이기
       $("#portfolio_skin").append(html);
      }
  });
</script>
<!--pdf download js-->
<script>
  document.addEventListener("DOMContentLoaded", function(){
    setTimeout(function(){
      var $page = $('.skin_page');
       for(var i = 0; i <= $page.length; i++){
         html2canvas($page[i]).then(canvas => {
           var $img = new Image();
           var imgData = canvas.toDataURL('image/png');
           $img.src = imgData;
           $('#img_viewer').append($img);
         })
         .catch(error =>  console.log(error));
       }
    }, 1000);
  });

//pdf 저장 js
$('#create_pdf').click(function () {
  //다운로드 모달 show
  $("#loadModal").addClass('show');
  //방법 1 js
  const pageLength = $(".page").length;
  console.log(pageLength);
  html2canvas($('#portfolio_skin')[0]
  ,{ scale: 2 }).then(function(canvas) {
    var filename = 'eportfolio_' + Date.now() + '.pdf'; 
    var doc = new jsPDF('p', 'mm', 'a4'); 
    var imgData = canvas.toDataURL('image/png'); 
    var imgWidth = 210; 
    var pageHeight = 295; 
    var imgHeight = canvas.height * imgWidth / canvas.width; 
    var heightLeft = imgHeight; 
    var position = 0;
    doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight); 
    heightLeft -= pageHeight;
    while (heightLeft >= 10) {
      position = heightLeft - imgHeight; 
      doc.addPage(); 
      doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight); 
      heightLeft -= pageHeight; 
    }
    //pdf 저장 후 모달 hide
    doc.save(filename,  {returnPromise:true}).then( $("#loadModal").removeClass('show'));
  });
});
</script>
</body>
</html>