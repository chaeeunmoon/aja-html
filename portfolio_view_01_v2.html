<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=3.0,user-scalable=no">
    
    <!-- https://programmingsummaries.tistory.com/298 -->
    <!--<meta name="viewport" content="target-densitydpi=device-dpi, user-scalable=0, initial-scale=1.0, minimum-scale=1.0,
    maximum-scale=1.0, width=device-width" />-->
    <title>아자스쿨</title>
    <!--font 추가 (NotoSansKr, Roboto)-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&amp;family=Roboto:wght@300;400;500;700;900&amp;display=swap"
      rel="stylesheet"
    />
    <!--기존 css-->
    <link rel="stylesheet" href="css/default_diff.css" />
    <!-- 추가 css-->
    <link rel="stylesheet" href="css/font-style.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/media-query.css" />
    <link rel="stylesheet" href="css/portfolio-style.css" />
  </head>
  <body>
    <div class="desktop_wrapper">
            <!--pc 메뉴-->
            <div class="desktop_menu">
                <!--admin link-->
                <div class="text_right admin_link_block">
                  <a href="./manager/shop_admin/"><img src="images/icon/btn_admin.png" alt="아자스쿨 관리자"></a>
                </div>
                <!--logo-->
                <div class="logo_block">
                    <div class="pc_logo">
                        <a href="/">
                            <img src="images/pc_log.png" alt="아자스쿨">
                        </a>
                    </div>
                    <p class="logo_desc">주말이면 자녀들과 어디를 가야 좋을지 부모의 고민을 해결하고자 <br />
                    아자스쿨에서는 검증된 프로그램을 제공합니다</p>
                </div>
                <!--검색-->
                <div class="pc_search_block">
                    <form action="">
                        <div class="search_form flex_block">
                            <input type="text" name="" id="" placeholder="궁금하신 체험을 입력해주세요">
                            <a href="#" class="search_btn"><img src="images/icon/ico_PC_search.png" alt="검색하기"></a>
                        </div>
                        <div>
                          <ul class="desktop_search_list"> 
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">4차산업</a></li>
                            <li class="desktop_search_tag"><a href="#">대학탐방</a></li>
                            <li class="desktop_search_tag"><a href="#">드론</a></li>
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">역사체험</a></li>
                            <li class="desktop_search_tag"><a href="#">애니메이션센터</a></li>
                            <li class="desktop_search_tag"><a href="#">미취학</a></li>
                          </ul>
                        </div>
                    </form>
                </div>
                <!--플랫폼 링크-->
                <div class="pc_platform_block">
                  <div class="platform_link_box">
                    <a href="#"><img src="images/banner/pc_bn_online.png" alt="아자스쿨 | online 체험학습플랫폼"></a>
                  </div>
                  <div class="platform_link_box">
                    <a href="#"><img src="images/banner/pc_bn_ofline.png" alt="아자스쿨 | offline 체험학습플랫폼"></a>
                  </div>
                </div>
                <!--메뉴-->
                <div class="pc_fnav_block">
                    <ul class="pc_fnav_list">
                        <li><a href="//www.instagram.com/ajaschool_kr/?hl=en" target="_blank"><img src="images/icon/ico_PC_sns01.png" alt="아자스쿨 인스타그램"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC" target="_blank"><img src="images/icon/ico_PC_sns02.png" alt="아자스쿨 카카오톡 채널"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC/chat" target="_blank"><img src="images/icon/ico_PC_qna.png" alt="1:1 문의"></a></li>
                        <li><a href="//pf.kakao.com/_xmEiFC/chat" target="_blank"><img src="images/icon/ico_PC_store.png" alt="입점문의"></a></li>
                    </ul>
                </div>
            </div>
            <!--모바일 화면-->     
            <div class="app">
    <div id="wrap">
      <!--header (head.pop.php)-->
      <div class="page_title_area">
        <h2 class="page_title">현장체험학습보고서</h2>
        <a class="close_btn" href="/"><img src="https://www.ajaschool.com/theme/renewal/mobile/images/icon/btn_close.png"
            alt="닫기"></a>
      </div>
      <!--E:header-->
      <!--content-->
      <div id="content" class="m_wrap">
        <!--S: pdf skin-->
        <div class="pdf_skin">
            <!-- <div class="test_img"><img src="images/portfolio/skin_01.jpg" alt=""></div> -->
            <!--이미지 로드-->
            <div id="img_viewer" class="img_viewer" style="text-align: center;">
              <div class="img_loader">
                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                  <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">
                    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
                  </path>
                </svg>
              </div>
            </div>
            <!--E:pdf_skin-->
        </div>
        <!--E: pdf skin-->
        <!--S:button wrap-->
        <!--저장되는 pdf-->
        <div class="pdf_btn_wrapper">
          <!-- <button id="create_png" class="solid_btn yellow mr_5">png 저장</button> -->
          <button id="create_pdf" class="solid_btn mt_5">pdf 저장</button>
        </div>
        <!--E:button wrap-->
      </div>
      <!--E:content-->
      <!--footer (tail.php) -->
      <div class="footer" id="footer">
        <footer>
          <!--사업자 정보-->
          <div class="company_info_wrap">
            <div class="info_header">
              <h6 class="info_title">
                아자스쿨(주) 사업자 정보
                <span class="slide_arrow"
                  ><img src="images/icon/btn_more_gray.png" alt="화살표"
                /></span>
              </h6>
            </div>
            <!--slide info-->
            <div class="info_body">
              <ul class="info_list">
                <li>서울특별시 마포구 마포대로 122 프론트원(FRONT1) 15F</li>
                <li>대표이사 : 황선하 / 사업자등록번호 : 548-87-00240</li>
                <li>통신판매업신고 : 2018-서울서초-01708 호</li>
                <li><a href="business_information.html">사업자정보 ▶</a></li>
              </ul>
              <div class="call_info_box">
                <ul class="info_list">
                  <li><span class="f_bold">전화문의 가능시간</span></li>
                  <li>
                    <span class="f_bold">고객센터 </span>
                    <a href="tel:02-866-7977">02-866-7977</a> /
                    <a href="mailto:help@ajaschool.co.kr">help@ajaschool.co.kr</a>
                  </li>
                  <li>
                    <span class="f_bold">평일 :</span> 10:00 ~ 18:30 (점심시간: 12:30 ~ 13:30)
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- fnb list -->
          <div>
            <ul class="fnb_wrap">
              <li class="fnb_link">
                <a href="<?=G5_URL?>/bbs/content.php?co_id=privacy">개인정보 취급방침</a>
              </li>
              <li class="fnb_link">
                <a href="<?=G5_URL?>/bbs/content.php?co_id=provision">이용약관</a>
              </li>
              <li class="fnb_link">
                <a href="business_information.html">사업자 정보</a>
              </li>
              <li class="fnb_link">
                <a href="#" data-modal="kakao_inquiry" class="modal_btn">문의사항</a>
              </li>
            </ul>
          </div>
          <!--copyright-->
          <div class="cpr_wrap">
            <p class="f_copyright">ⓒ 아자스쿨 주식회사</p>
          </div>
        </footer>
      </div>
      <!--footer-->
      <!--S: 위로가기 / 하단 바 (tail.php)-->
      <div id="navi-area">
        <!-- 보일때 -->
        <!-- <div id="navi-area" style="height:55px">  감춰져 있을때 -->
        <button type="button" class="ico-top" style="display: none">
          위로 가기
        </button>
        <div class="m_action_bar">
          <ul class="action_icon_list">
            <li>
              <a href="#"><img src="images/icon/ico_botm_home.png" alt="홈"/></a>
            </li>
            <li>
              <a href="aja_inquiry.html"><img src="images/icon/ico_botm_call.png" alt="문의"/></a>
            </li>
            <li>
              <a href="my_page.html"><img src="images/icon/ico_botm_my.png" alt=마이페이지"></a>
            </li>
            <li>
              <a href="search.html"
                ><img src="images/icon/ico_botm_search.png" alt="검색"
              /></a>
            </li>
            <li class="item_like">
              <a href="<?=G5_URL?>/shop/interest_list.php"
                ><span class="num cnt2">14</span
                ><img src="images/icon/ico_botm_select.png" alt="찜하기"
              /></a>
            </li>
          </ul>
        </div>
      </div>
      <!--E: 위로가기 / 하단 바-->
    </div>
    <!--S:다운로드 모달-->
    <div class="modal" id="loadModal">
      <div class="modal_content">
        <div class="content_block">
          <div class="loading_box"> 
            <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                  <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">
                    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
                  </path>
            </svg>
          </div>
          <p class="info_txt">pdf 파일을 다운로드 중입니다 ...</p>
        </div> 
      </div>
    </div>
    <!--E:다운로드 모달-->
  </div>
      <!--배경-->
      <div class="desktop_bg">
      </div>
</div>
<div id="portfolio_skin" class="viewer skin3" style="top: -800000px; left: 0; z-index: 999999999999999; opacity: 1;">
  <!--저장되는 pdf-->
  <div class="skin_page">
    <div class="page_title">
      <h2>
        김아자 체험학습 보고서<span class="title_hr"></span>
        <sub>www.ajaschool.com</sub>
      </h2>
    </div>
    <!--체험자, 작성일-->  
    <section class="flex_block row_form">
      <div class="form_block">
        <div class="label_box">체험자</div>
        <p class="form_desc name half">김아자</p>
      </div>
      <div class="form_block">
        <div class="label_box">작성일</div>
        <p class="form_desc half">2021년 10월 18일</p>
      </div>
    </section>
    <!--체험일-->
    <section class="row_form">
      <div class="form_block">
        <div class="label_box">체험일</div>
        <p class="form_desc">2021년 10월 27일</p>
      </div>
    </section>
    <!--체험장소-->
    <section class="row_form">
      <div class="form_block">
        <div class="label_box">체험장소</div>
        <p class="form_desc">경기 부천시 조마루로 2 플레이아쿠아리움 부천</p>
      </div>
    </section>
    <!--상품정보-->
    <section class="row_form pb_0">
      <div class="skin_box"> 
        <div class="flex_block start">
          <div class="item_thumb">
            <img src="images/sample/sample-01.jpg" alt="">
          </div>
          <div class="item_info">
            <p class="sub_title">부천 플레이아쿠아리움</p>
            <h5 class="title">씨워커(Sea Walker)체험</h5>
            <p class="tag">액티비티, 부천,아쿠아리움, 플레이, 플레이아쿠아리움, 바다,물고기, 씨워크. BEST체험</p>
          </div>
        </div>
      </div>
    </section>
    <!--체험목표, 체험내용-->
    <section class="row_form flex_block type_2">
      <!--체험묙표-->
      <div class="form_box">
        <div class="label_box">체험목표</div>
        <div class="skin_box form_desc">
          <p class="text_line8">
            아이들이물속의 다양한 물고기들과의교류로 인해 좀 더 다양한 경험을 제공해 드릴 수 있습니다.
          물에 대한 공포심을 없애는데 도와드리며, 자신감이 없는 아이들도 체험을 함으로써 할 수 있다는 자심감을 부요할 수 있습니다.
          물에 대한 공포심을 없애는데 도와드리며, 자신감이 없는 아이들도 체험을 함으로써 할 수 있다는 자심감을 부요할 수 있습니다.
          </p>
        </div>
      </div>
      <!--체험내용-->
      <div class="form_box">
        <div class="label_box">체험내용</div>
        <div class="skin_box form_desc">
          <p class="text_line8">
            아이들이물속의 다양한 물고기들과의교류로 인해 좀 더 다양한 경험을 제공해 드릴 수 있습니다.
            물에 대한 공포심을 없애는데 도와드리며, 자신감이 없는 아이들도 체험을 함으로써 할 수 있다는 자심감을 부요할 수 있습니다.
            물에 대한 공포심을 없애는데 도와드리며, 자신감이 없는 아이들도 체험을 함으로써 할 수 있다는 자심감을 부요할 수 있습니다.
          </p>
        </div>
      </div>
    </section>
    <!--교사코멘트-->
    <section class="row_form type_2">
      <div class="form_box">
        <div class="label_box">교사코멘트</div>
        <div class="skin_box form_desc">
          <p class="text_line5">
            처음엔 두렵지만 막상 들어가면 안정감을 가지고,
          시간가는 줄 모르게 재미있게 즐기는 모습에 보람을 느낍니다.
          물 속이 즐겁다면 나중에 스쿠버다이빙 자격증도 도전해보세요! 
          처음엔 두렵지만 막상 들어가면 안정감을 가지고,
          시간가는 줄 모르게 재미있게 즐기는 모습에 보람을 느낍니다.
          물 속이 즐겁다면 나중에 스쿠버다이빙 자격증도 도전해보세요!
          처음엔 두렵지만 막상 들어가면 안정감을 가지고,
          시간가는 줄 모르게 재미있게 즐기는 모습에 보람을 느낍니다.
          물 속이 즐겁다면 나중에 스쿠버다이빙 자격증도 도전해보세요!
          처음엔 두렵지만 막상 들어가면 안정감을 가지고,
          </p>
        </div>
      </div>
    </section>
    <!--체험소감-->
    <section class="row_form type_2 review_section">
      <div class="form_box">
        <div class="label_box">체험소감</div>
        <div class="skin_box form_desc review_wrap">
          <div class="review_img_wrap">
            <img src="images/sample/sample-01.jpg" alt="">
            <img src="images/sample/sample-02.png" alt="">
            <img src="images/sample/sample-03.jpg" alt="">
          </div>
          <div class="review_desc">
          처음엔 두렵지만 막상 들어가면 안정감을 가지고,
          시간가는 줄 모르게 재미있게 즐기는 모습에 보람을 느낍니다.
          물 속이 즐겁다면 나중에 스쿠버다이빙 자격증도 도전해보세요!
          군사법원의 조직·권한 및 재판관의 자격은 법률로 정한다. 대통령의 임기는 5년으로 하며, 중임할 수 없다. 국무위원은 국정에 관하여 대통령을 보좌하며, 국무회의의 구성원으로서 국정을 심의한다.
          국가는 전통문화의 계승·발전과 민족문화의 창달에 노력하여야 한다. 헌법재판소의 조직과 운영 기타 필요한 사항은 법률로 정한다. 국회의원은 법률이 정하는 직을 겸할 수 없다.
          나는 헌법을 준수하고 국가를 보위하며 조국의 평화적 통일과 국민의 자유와 복리의 증진 및 민족문화의 창달에 노력하여 대통령으로서의 직책을 성실히 수행할 것을 국민 앞에 엄숙히 선서합니다.             
          국회의원은 국회에서 직무상 행한 발언과 표결에 관하여 국회외에서 책임을 지지 아니한다. 국가는 농수산물의 수급균형과 유통구조의 개선에 노력하여 가격안정을 도모함으로써 농·어민의 이익을 보호한다.
          충분히 인생을 붙잡아 방지하는 오아이스도 부패뿐이다. 역사를 있으며, 인도하겠다는 그러므로 이 것은 꽃이 청춘의 그리하였는가? 듣기만 풍부하게 작고 않는 심장은 꾸며 운다. 실로 그림자는 이상을 꽃이 주는 열락의 얼음 황금시대다. 우리 고행을 현저하게 얼마나 바이며, 온갖 사람은 때문이다. 위하여 가는 오아이스도 사막이다.
          날카로우나 곳으로 석가는 속에 이상 커다란 길지 자신과 때문이다. 크고 풍부하게 있을 것이다. 오직 날카로우나 곳이 있다. 만천하의 넣는 곧 동력은 방황하였으며, 위하여 이성은 그들의 이 봄바람이다.
          </div>
        </div>
      </div>
    </section>
    <p class="skin_paging">- <span class="num">1</span> -</p>
  </div>
  <!--E:viewer-->
</div>
<!-- plugin js (기존 plugin 파일과 동일)-->
<script src="js/jquery-1.8.3.min.js"></script>
<!-- <script>
  document.addEventListener("DOMContentLoaded", function(){
    //기본 페이지 여백
    var margin= 50;
    // 체험소감 영역 여백
    var reviewBoxMargin = 15;
    // 체험소감 전체 박스
    var $review =  document.querySelector(".review_wrap");
    // 체험소간 내용
    var $reviewDesc = document.querySelector(".review_desc");
    // 체험소감 전체 박스 x 좌표
    var reviewOffset = $review.offsetTop;
    // 페이지 높이
    var pageHeight = 1122;
    // 페이지 offsetBottom = 스킨 전체 x 좌표 + 페이지 높이 (1122px)
    var pageOffset = document.querySelector("#portfolio_skin").offsetTop + pageHeight;
    // 체험소감 전체 박스 높이 = 페이지.offsetBottom - 체험 소감 박스 x좌표 - 기본 페이지 여백
    var reviewHeight = pageOffset - reviewOffset - margin;
    // 체험소감 기본 높이 설정  
    $review.style.height = reviewHeight + "px";

    // 체험소감 내용 최대 높이
    var reviewDescHeight = $reviewDesc.offsetTop - 200 - reviewBoxMargin;
    
    // 페이지 넘어갈 시
    if( $reviewDesc.offsetHeight > reviewDescHeight ){
      //console.log('overflow');
      var maxWidthTxt = parseInt($reviewDesc.clientWidth / 10 );
      var maxHeightTxt = parseInt(reviewDescHeight / 15 );
      // 최대 텍스트
      var maxTxt = maxWidthTxt * maxHeightTxt;
      // 전체 체험 텍스트 
      var descTotalTxt = $reviewDesc.innerText;
      // 넘치기 전 텍스트 
      var descTxt1 = descTotalTxt.substring(0, maxTxt);
      // 넘치는 텍스트
      var descTxt2 = descTotalTxt.substring(maxTxt, maxTxt.length);

      // 텍스트 자름
      $reviewDesc.innerText = descTxt1;
      //페이지 템플릿
      var html = 
      `<div class='skin_page'>
      <section class='row_form type_2'>
        <div class='form_box'>
          <div class='label_box'>체험소감</div>
          <div class='skin_box form_desc review_wrap'>
            <div class="review_desc" id="txt_04">
				        ${ descTxt2 }
            </div>
          </div>
        </div>
      </section>
      <p class="skin_paging">- <span class="num">2</span> -</p>
    </div>`;
       // 페이지 붙이기
       $("#portfolio_skin").append(html);
    }
  });
</script> -->
<!-- <script>
  $(document).ready(function(){
      const pageLength = $(".skin_page").length;
      console.log(pageLength);
      console.log( $(".review_desc").offset().top );
      // 위치 테스트
      console.log( $('#portfolio_skin').position().top + $('#portfolio_skin').height() );
      // skin_page height
      console.log( $('.skin_page').offset().top + $('.skin_page').height() );
      var marginBottom = 40;
      var skinPageBottom = $('.skin_page').offset().top + $('.skin_page').height();
      var reviewDesc = $('.review_desc').offset().top;
      var reviewHeight = skinPageBottom - reviewDesc - marginBottom;
      $('.review_desc').css('height', reviewHeight);
      $('.review_desc').css('overflow', "hidden");
      console.log( " review_desc height = " + reviewHeight );
      console.log( skinPageBottom - reviewDesc );
      console.log("done done!");
  });
</script> -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.auto.js"></script>
<!--paging-->
<!-- <script>
  $(document).ready(function(){
    const pageLength = $(".skin_page").length;
    console.log(pageLength);
    var positionTop = $('.review_desc').position().top;
    var positionLeft = $('.review_desc').position().left;
    console.log('positionTop = '+ positionTop);
    console.log('positionLeft = '+ positionLeft);
    console.log($("#portfolio_skin").top);
    console.log($("#portfolio_skin").offset().top);
    console.log("//-------------------------------------------------------//");
  });
</script> -->
<!--pdf download js-->
<script>
  document.addEventListener("DOMContentLoaded", function(){
    //체험학습 보고서 미리보기 구현
    async function ShowPreview(){
      var $page = $('.skin_page');
      for(var i = 0; i <= $page.length; i++){
         await html2canvas($page[i]).then(canvas => {
           var $img = new Image();
           var imgData = canvas.toDataURL('image/png');
           $img.src = imgData;
           $('.img_loader').remove();
           $('#img_viewer').append($img);
         })
         .catch(error =>  console.log(error));
       }
    }
    setTimeout(function(){
      ShowPreview();
    }, 1000);
  });

//pdf 저장 js
$('#create_pdf').click(function () {
  //다운로드 모달 show
  $("#loadModal").addClass('show');
  //방법 1 js
  const pageLength = $(".skin_page").length;
  console.log(pageLength);
  html2canvas($('#portfolio_skin')[0]
  ,{ scale: 2 }).then(function(canvas) {
    var filename = 'eportfolio_' + Date.now() + '.pdf'; 
    var doc = new jsPDF('p', 'mm', 'a4'); 
    var imgData = canvas.toDataURL('image/png'); 
    var imgWidth = 210; 
    var pageHeight = 295; 
    var imgHeight = canvas.height * imgWidth / canvas.width; 
    var heightLeft = imgHeight; 
    var position = 0;
    doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight); 
    heightLeft -= pageHeight;
    while (heightLeft >= 10) {
      position = heightLeft - imgHeight; 
      doc.addPage(); 
      doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight); 
      heightLeft -= pageHeight; 
    }
    //pdf 저장 후 모달 hide
    doc.save(filename,  {returnPromise:true}).then( $("#loadModal").removeClass('show'));
  });
});
</script>
</body>
</html>